## 모듈을 만드는 방법

공유하거나 재사용할 함수를 포함한 하나의 파일을 만들면 된다.

다만, 요쳥한 모듈이 `검색 경로`에 있다고 가정하는데 이 부분에서 문제가 발생할 수 있다. 

## 모듈을 어떻게 찾을까? 

인터프리터가 모듈을 찾을 때 주요 위치 3군데를 확인한다. 

1. 현재 작업 디렉토리 
2. 인터프리터의 사이트 패키지 위치
    - 서드파티 파이썬 모듈 또는 사용자가 만든 모듈을 포함하는 디렉토리 
3. 표준 라이브러리 위치 
    - 표준 라이브러리를 구성하는 모든 모듈을 포함하는 디렉토리 

인터프리터가 2번과 3번 위치를 찾는 순서는 많은 요소에 의해 달라질 수 있다. 
하지만 작동 원리를 파악하고 있다면 크게 걱정할 필요는 없다. 

중요한 건 인터프리터는 항상 `사용자의 현재 작업 디렉토리`를 `가장 먼저 검색`한다는 점이다. 

이로 인해 사용자가 만든 모듈을 사용할 때 문제가 발생할 수 있다. 

## ① 현재 작업 디렉토리

### 예제 상황
- 모듈을 저장할 mymodules 폴더 생성
- vsearch.py 파일을 만들어서 mymodules 폴더로 이동

① vsearch.py 파일을 포함하고 있는 디렉토리에서 작업한 상황

![image](https://github.com/sjHong645/head-first-python/assets/64796257/18c7aa38-8399-4b4b-9564-50681cec345a)

당연히 잘 동작한다. 

하지만... 내가 원하는 모듈이 현재 작업 디렉토리에 들어 있지 않는다면 어떻게 될까? 

- 기본적으로는 오류가 발생한다.
  - ImportErrors : 모듈을 찾을 수 없을 때 발생하는 에러
  - 어떤 OS에 있던지 간에 똑같은 이유로 오류가 발생할 수 있다.

cf) 경로는 하드코딩하지 말자. 언제든지 바뀔 수 있기 때문이다.

인터프리터는 현재 작업 디렉토리에서 모듈을 찾지 못하면 `표준 라이브러리`와 `사이트 패키지 위치`에서 모듈을 검색한다.  
이에 대해서는 아래에서 좀 더 자세히 다룬다. 

## ② 인터프리터의 사이트 패키지 위치

서드파티 모듈을 공급하고 지원하는 기능은 파이썬 코드 재사용의 핵심 기술이다. 그래서 파이썬에서는 사용자의 파이썬 설정에 모듈을 추가할 수 있도록 내장 기능을 제공한다. 

### setuptools를 활용해 모듈을 사이트 패키지에 설치하기 

- setuptools 표준 라이브러리
  - 해당 라이브러리를 활용해서 `모듈`을 `사이트 패키지`에 추가할 수 있다.

setuptools를 이용해서 아래 3가지 단계를 거쳐서 모듈을 사이트 패키지에 설치할 것이다. 

1. 배포 설명 만들기
2. 배포 파일 만들기
3. 배포 파일 설치하기 


  
